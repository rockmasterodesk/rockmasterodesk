!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([,,function(e,t,n){e.exports=n(3)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=window.jQuery;function i(e){return"object"==n(e)?e:(e=e.replace(/\'/gi,'"'),JSON.parse(e))}window.MessengerOverlay=function(){return this.element=o(".messenger-overlay-loading"),this},window.MessengerOverlay.prototype.hide=function(){this.element.css("display","none")},window.MessengerOverlay.prototype.show=function(){this.element.css("display","flex")},o(document).ready((function(){window.deviceSize="small",(new MessengerOverlay).hide(),window.$tabs=new MessageTabs({name:"Mumbai - 230532",image:"images/man_avatar1.jpg",room_id:1},{onActivateTab:function(e){o("#click-tooltip").hide(),o("#profile-tooltip").hide()}});for(var e=0;e<4;e++)$tabs.addTab({name:"Tab "+e,image:"images/man_avatar1.jpg",room_id:"test-tab-"+e,new_message_count:Math.ceil(10*Math.random())%2==0?1:0});function t(){window.shouldHidePopup&&o("#profile-tooltip").hide()}function n(e){e.matches?window.deviceSize="large":window.deviceSize="small"}$tabs.addScrolledToTopListener((function(e){$tabs.showLoadingIcon(),setTimeout((function(){$tabs.hideLoadingIcon(),o("#MessagesContainer").prepend("<center>"+e.room_id+" onScrollTop event occured</center>")}),500)})),o(document).on("click","#SendMessageButton",(function(e){var t=o("#SendMessageInput").val();console.log(t),null!==t&&""!==t&&(o("#MessagesContainer").append("\n\t\t<div class=\"single-message flex-custom from_me\">\n\t\t\t<div class=\"name-and-message\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<a popover-profileInfo=\"{'room_id':'room~100','name':'ASM Asaduzzaman', 'image':'null', 'color' : '000', 'self':true}\" href=\"#\">ASM Asaduzzaman</a> - <span>1s</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"main-message\">\n\t\t\t\t\t".concat(t,'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="sidebar">\n\t\t\t\t<img src="images/man_avatar1.jpg" alt="Profile Picture">\n\t\t\t</div>\n\t\t</div>\n\t\t')),o("#MessagesContainer").getNiceScroll().resize(),setTimeout((function(e){$tabs.scrollToBottom()}),200),$tabs.clearCurrentTabInput())})),o(document).on("click","#click-tooltip .send-message, #profile-tooltip .send-message",(function(e){e.preventDefault();var t=i(o(this).attr("data-room"));$tabs.addTab(t)})),o(document).on("click",".send-message-dropdown",(function(e){e.preventDefault();var t=i(o(this).parent().parent().parent().parent().parent().attr("click-profileInfo"));$tabs.addTab(t)})),o(document).on("click",".close-button",(function(e){e.preventDefault();var t=o(this).data("close");$tabs.closeTab(t)})),o(document).on("click",".person-header-tabbed .tab",(function(e){e.preventDefault();var t=o(this).data("index");$close=o(this).find(".close-button"),"fa fa-times"!=e.target.classList.value&&"btn close-button"!=e.target.classList.value&&$tabs.activateTab(t)})),o(document).on("click","#ConversationDetailsOpener, #DetailsOpenerBars",(function(){console.log("opener clicked"),o("#ConversationDetails").removeClass("display-none-min-screen"),o(".black-overlay").show()})),o(document).on("click","#CloserOverlay",(function(e){o("#ConversationDetails").addClass("display-none-min-screen"),o(".black-overlay").hide()})),o(document).on("click","#CloseDetails",(function(e){e.preventDefault(),o("#ConversationDetails").addClass("display-none-min-screen"),o(".black-overlay").hide()})),o(document).on("click","#searchIcon",(function(){o("#searchForm").toggle()})),o(document).on("click","#searchButton",(function(e){e.preventDefault(),o(this).parent().parent().find(".search-results").toggle()})),o(document).on("focus","#searchInput",(function(){o(this).parent().find(".search-results").show()})),o(document).mouseup((function(e){var t=o(".search-results"),n=o("#searchInput");t.is(e.target)||n.is(e.target)||0!==t.has(e.target).length||t.hide()})),window.shouldHidePopup=!0,window.shouldShowPopup=!0,o(document).on("mouseenter","[popover-profileInfo]",(function(e){$this=o(this),window.shouldShowPopup=!0,setTimeout((function(){if(window.shouldShowPopup){$pid=$this.attr("popover-profileInfo");var e=i($pid),t=o("#profile-tooltip");t.find(".header .name").text(e.name),t.find(".actions .send-message").attr("data-room",$pid),e.self?(t.find(".actions button").each((function(){o(this).hide()})),t.find(".actions .myProfile").show()):(t.find(".actions button").each((function(){o(this).show()})),t.find(".actions .myProfile").hide());var n=t.find(".header .yes-image"),a=t.find(".header .no-image");"null"!=e.image?(n.removeClass("display-none"),a.addClass("display-none"),n.attr("src",e.image)):(n.addClass("display-none"),a.removeClass("display-none"),a.text(e.name.slice(0,1)),null!=e.color&&null!=e.color&&a.css("background","#"+e.color)),$tooltip=o("#profile-tooltip"),Popper.createPopper($this[0],$tooltip[0],{placement:"bottom-start"}),$tooltip.show()}}),100)})),o(document).on("mouseleave","[popover-profileInfo]",(function(e){window.shouldShowPopup=!1,setTimeout((function(){t()}),100)})),o(document).on("mouseenter","#profile-tooltip",(function(e){window.shouldHidePopup=!1})),o(document).on("mouseleave","#profile-tooltip",(function(e){window.shouldHidePopup=!0,t()})),o(document).on("click","[click-profileInfo]",(function(e){var t=o(this);if("large"===window.deviceSize&&(window.shouldShowPopup=!0,"dropdown-item"!==e.target.classList[0]&&"dropdown-menu"!==e.target.classList[0])){var n=t.attr("click-profileInfo"),a=i(n),s=o("#click-tooltip");s.find(".header .name").text(a.name),s.find(".actions .send-message").attr("data-room",n);var r=s.find(".header .yes-image"),l=s.find(".header .no-image");"null"!=a.image?(r.removeClass("display-none"),l.addClass("display-none"),r.attr("src",a.image)):(r.addClass("display-none"),l.removeClass("display-none"),l.text(a.name.slice(0,1)),null!=a.color&&null!=a.color&&l.css("background","#"+a.color)),$tooltip=o("#click-tooltip"),Popper.createPopper(t[0],$tooltip[0],{placement:"large"==window.deviceSize?"right":"bottom-start"}),$tooltip.show()}})),o(document).mouseup((function(e){var t=o("#click-tooltip"),n=o("[click-profileInfo]");t.is(e.target)||n.is(e.target)||0!==t.has(e.target).length||t.hide()}));var a=window.matchMedia("(min-width: 768px)");function s(){o(".image-to-upload").hide(),o("#ImageUploadPreview").attr("src",""),o("#ImageUploadButton").val(""),o("#ImageCaption").val("")}n(a),a.addListener(n),"large"==window.deviceSize&&(o("#Conversations").niceScroll({}),o(".person-header-tabbed").niceScroll({}),o("#MessagesContainer").niceScroll({})),o(document).on("click",".reply-button",(function(e){e.preventDefault();var t=o(this).parent().parent().parent().find(".sidebar").find("img").attr("src"),n=o(this).parent().parent().find(".name").find("a").text(),i=o(this).parent().parent().find(".main-message").text();o(".replying-to").find(".sidebar").find("img").attr("src",t),o(".replying-to").find(".name").text(n),o(".replying-to").find(".main-message").text(i),o(".replying-to").css("display","flex"),o("#MessagesContainer").getNiceScroll().resize()})),o(document).on("click",".close-reply-box",(function(e){e.preventDefault(),o(".replying-to").find(".sidebar").find("img").attr("src",""),o(".replying-to").find(".name").text(""),o(".replying-to").find(".main-message").text(""),o(".replying-to").css("display","none"),o("#MessagesContainer").getNiceScroll().resize()})),"small"===window.deviceSize&&o(document).on("swiperight",".single-message",(function(e){if(!0!==window.nestedMessageSwiped){o(this).hasClass("flex-custom")||(window.nestedMessageSwiped=!0,setTimeout((function(){window.nestedMessageSwiped=!1}),100));var t=o(this).find(".sidebar").find("img").attr("src"),n=o(this).find(".name").find("a").text(),i=o(this).find(".main-message").text();o(".replying-to").find(".sidebar").find("img").attr("src",t),o(".replying-to").find(".name").text(n),o(".replying-to").find(".main-message").text(i),o(".replying-to").css("display","flex")}})),o("#ImageUploadButton").change((function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;if(["image/png","image/jpeg","image/gif","image/webp"].indexOf(e.files[0].type)<0)return alert("The file must be an image file (jpeg/png/gif)."),void s();t.onload=function(e){o("#ImageUploadPreview").attr("src",e.target.result),o("#ImageCaption").val("")},t.readAsDataURL(e.files[0]),o(".image-to-upload").show()}else s()}(this)})),o("#CancelUploadButton").on("click",(function(){s()})),o(document).on("click",".sensitive-info",(function(){$this=o(this),$this.hide(),$this.parent().find(".sensitive").removeClass("sensitive")})),o(document).on("click",".image-container",(function(e){o(e.target).hasClass("sensitive-info")||function(e){var t=o(e).find("img").attr("src"),n=o(e).parent().find(".caption-container>p");console.log(t,n),o("#ImageDisplayModal").find(".image-container > img").attr("src",t),o("#ImageDisplayModal").find(".caption-container > p").text(n.text()),0===n.length?o("#ImageDisplayModal").find(".caption-container > p").removeClass("has-p"):o("#ImageDisplayModal").find(".caption-container > p").addClass("has-p");o("#ImageDisplayModal").modal("show")}(this)}))}))}]);
//# sourceMappingURL=script.js.map