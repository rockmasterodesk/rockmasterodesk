!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([,,function(e,t,n){e.exports=n(3)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"==n(e)?e:(e=e.replace(/\'/gi,'"'),JSON.parse(e))}window.MessengerOverlay=function(){return this.element=$(".messenger-overlay-loading"),this},window.MessengerOverlay.prototype.hide=function(){this.element.css("display","none")},window.MessengerOverlay.prototype.show=function(){this.element.css("display","flex")},$(document).ready((function(){window.deviceSize="small",(new MessengerOverlay).hide(),window.$tabs=new MessageTabs({name:"Mumbai - 230532",image:"images/man_avatar1.jpg",room_id:1},{onActivateTab:function(e){$("#click-tooltip").hide(),$("#profile-tooltip").hide()}});for(var e=0;e<4;e++)$tabs.addTab({name:"Tab "+e,image:"images/man_avatar1.jpg",room_id:"test-tab-"+e,new_message_count:Math.ceil(10*Math.random())%2==0?1:0});function t(){window.shouldHidePopup&&$("#profile-tooltip").hide()}function n(e){e.matches?window.deviceSize="large":window.deviceSize="small"}$tabs.addScrolledToTopListener((function(e){$tabs.showLoadingIcon(),setTimeout((function(){$tabs.hideLoadingIcon(),$("#MessagesContainer").prepend("<center>"+e.room_id+" onScrollTop event occured</center>")}),500)})),$(document).on("click","#SendMessageButton",(function(e){var t=$("#SendMessageInput").val();console.log(t),null!==t&&""!==t&&($("#MessagesContainer").append("\n\t\t<div class=\"single-message flex-custom from_me\">\n\t\t\t<div class=\"name-and-message\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<a popover-profileInfo=\"{'room_id':'room~100','name':'ASM Asaduzzaman', 'image':'null', 'color' : '000', 'self':true}\" href=\"#\">ASM Asaduzzaman</a> - <span>1s</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"main-message\">\n\t\t\t\t\t".concat(t,'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="sidebar">\n\t\t\t\t<img src="images/man_avatar1.jpg" alt="Profile Picture">\n\t\t\t</div>\n\t\t</div>\n\t\t')),$("#MessagesContainer").getNiceScroll().resize(),setTimeout((function(e){$tabs.scrollToBottom()}),200),$tabs.clearCurrentTabInput())})),$(document).on("click","#click-tooltip .send-message, #profile-tooltip .send-message",(function(e){e.preventDefault();var t=o($(this).attr("data-room"));$tabs.addTab(t)})),$(document).on("click",".send-message-dropdown",(function(e){e.preventDefault();var t=o($(this).parent().parent().parent().parent().parent().attr("click-profileInfo"));$tabs.addTab(t)})),$(document).on("click",".close-button",(function(e){e.preventDefault();var t=$(this).data("close");$tabs.closeTab(t)})),$(document).on("click",".person-header-tabbed .tab",(function(e){e.preventDefault();var t=$(this).data("index");$close=$(this).find(".close-button"),"fa fa-times"!=e.target.classList.value&&"btn close-button"!=e.target.classList.value&&$tabs.activateTab(t)})),$(document).on("click","#ConversationDetailsOpener, #DetailsOpenerBars",(function(){console.log("opener clicked"),$("#ConversationDetails").removeClass("display-none-min-screen"),$(".black-overlay").show()})),$(document).on("click","#CloserOverlay",(function(e){$("#ConversationDetails").addClass("display-none-min-screen"),$(".black-overlay").hide()})),$(document).on("click","#CloseDetails",(function(e){e.preventDefault(),$("#ConversationDetails").addClass("display-none-min-screen"),$(".black-overlay").hide()})),$(document).on("click","#searchIcon",(function(){$("#searchForm").toggle()})),$(document).on("click","#searchButton",(function(e){e.preventDefault(),$(this).parent().parent().find(".search-results").toggle()})),$(document).on("focus","#searchInput",(function(){$(this).parent().find(".search-results").show()})),$(document).mouseup((function(e){var t=$(".search-results"),n=$("#searchInput");t.is(e.target)||n.is(e.target)||0!==t.has(e.target).length||t.hide()})),window.shouldHidePopup=!0,window.shouldShowPopup=!0,$(document).on("mouseenter","[popover-profileInfo]",(function(e){$this=$(this),window.shouldShowPopup=!0,setTimeout((function(){if(window.shouldShowPopup){$pid=$this.attr("popover-profileInfo");var e=o($pid),t=$("#profile-tooltip");t.find(".header .name").text(e.name),t.find(".actions .send-message").attr("data-room",$pid),e.self?(t.find(".actions button").each((function(){$(this).hide()})),t.find(".actions .myProfile").show()):(t.find(".actions button").each((function(){$(this).show()})),t.find(".actions .myProfile").hide());var n=t.find(".header .yes-image"),i=t.find(".header .no-image");"null"!=e.image?(n.removeClass("display-none"),i.addClass("display-none"),n.attr("src",e.image)):(n.addClass("display-none"),i.removeClass("display-none"),i.text(e.name.slice(0,1)),null!=e.color&&null!=e.color&&i.css("background","#"+e.color)),$tooltip=$("#profile-tooltip"),Popper.createPopper($this[0],$tooltip[0],{placement:"bottom-start"}),$tooltip.show()}}),100)})),$(document).on("mouseleave","[popover-profileInfo]",(function(e){window.shouldShowPopup=!1,setTimeout((function(){t()}),100)})),$(document).on("mouseenter","#profile-tooltip",(function(e){window.shouldHidePopup=!1})),$(document).on("mouseleave","#profile-tooltip",(function(e){window.shouldHidePopup=!0,t()})),$(document).on("click","[click-profileInfo]",(function(e){var t=$(this);if("large"===window.deviceSize&&(window.shouldShowPopup=!0,"dropdown-item"!==e.target.classList[0]&&"dropdown-menu"!==e.target.classList[0])){var n=t.attr("click-profileInfo"),i=o(n),a=$("#click-tooltip");a.find(".header .name").text(i.name),a.find(".actions .send-message").attr("data-room",n);var s=a.find(".header .yes-image"),r=a.find(".header .no-image");"null"!=i.image?(s.removeClass("display-none"),r.addClass("display-none"),s.attr("src",i.image)):(s.addClass("display-none"),r.removeClass("display-none"),r.text(i.name.slice(0,1)),null!=i.color&&null!=i.color&&r.css("background","#"+i.color)),$tooltip=$("#click-tooltip"),Popper.createPopper(t[0],$tooltip[0],{placement:"large"==window.deviceSize?"right":"bottom-start"}),$tooltip.show()}})),$(document).mouseup((function(e){var t=$("#click-tooltip"),n=$("[click-profileInfo]");t.is(e.target)||n.is(e.target)||0!==t.has(e.target).length||t.hide()}));var i=window.matchMedia("(min-width: 768px)");function a(){$(".image-to-upload").hide(),$("#ImageUploadPreview").attr("src",""),$("#ImageUploadButton").val(""),$("#ImageCaption").val("")}n(i),i.addListener(n),"large"==window.deviceSize&&($("#Conversations").niceScroll({}),$(".person-header-tabbed").niceScroll({}),$("#MessagesContainer").niceScroll({})),$(document).on("click",".reply-button",(function(e){e.preventDefault();var t=$(this).parent().parent().parent().find(".sidebar").find("img").attr("src"),n=$(this).parent().parent().find(".name").find("a").text(),o=$(this).parent().parent().find(".main-message").text();$(".replying-to").find(".sidebar").find("img").attr("src",t),$(".replying-to").find(".name").text(n),$(".replying-to").find(".main-message").text(o),$(".replying-to").css("display","flex"),$("#MessagesContainer").getNiceScroll().resize()})),$(document).on("click",".close-reply-box",(function(e){e.preventDefault(),$(".replying-to").find(".sidebar").find("img").attr("src",""),$(".replying-to").find(".name").text(""),$(".replying-to").find(".main-message").text(""),$(".replying-to").css("display","none"),$("#MessagesContainer").getNiceScroll().resize()})),"small"===window.deviceSize&&$(document).on("swiperight",".single-message",(function(e){if(!0!==window.nestedMessageSwiped){$(this).hasClass("flex-custom")||(window.nestedMessageSwiped=!0,setTimeout((function(){window.nestedMessageSwiped=!1}),100));var t=$(this).find(".sidebar").find("img").attr("src"),n=$(this).find(".name").find("a").text(),o=$(this).find(".main-message").text();$(".replying-to").find(".sidebar").find("img").attr("src",t),$(".replying-to").find(".name").text(n),$(".replying-to").find(".main-message").text(o),$(".replying-to").css("display","flex")}})),$("#ImageUploadButton").change((function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;if(["image/png","image/jpeg","image/gif","image/webp"].indexOf(e.files[0].type)<0)return alert("The file must be an image file (jpeg/png/gif)."),void a();t.onload=function(e){$("#ImageUploadPreview").attr("src",e.target.result),$("#ImageCaption").val("")},t.readAsDataURL(e.files[0]),$(".image-to-upload").show()}else a()}(this)})),$("#CancelUploadButton").on("click",(function(){a()})),$(document).on("click",".sensitive-info",(function(){$this=$(this),$this.hide(),$this.parent().find(".sensitive").removeClass("sensitive")})),$(document).on("click",".image-container",(function(e){$(e.target).hasClass("sensitive-info")||function(e){var t=$(e).find("img").attr("src"),n=$(e).parent().find(".caption-container>p");console.log(t,n),$("#ImageDisplayModal").find(".image-container > img").attr("src",t),$("#ImageDisplayModal").find(".caption-container > p").text(n.text()),0===n.length?$("#ImageDisplayModal").find(".caption-container > p").removeClass("has-p"):$("#ImageDisplayModal").find(".caption-container > p").addClass("has-p");$("#ImageDisplayModal").modal("show")}(this)}))}))}]);
//# sourceMappingURL=script.js.map