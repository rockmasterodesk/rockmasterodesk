!function(t){var n={};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/",o(o.s=0)}([function(t,n,o){o(1),t.exports=o(2)},function(t,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}$(document).ready((function(){function t(){window.shouldHidePopup&&$("#profile-tooltip").hide()}$("#post_content").autoResize(),$((function(){$('[data-toggle="tooltip"]').tooltip()})),$(document).on("click",".post-meta > .comments-meta > a",(function(t){t.preventDefault(),$(this).parent().parent().parent().find(".all-comments").toggle()})),$(document).on("click",'a[href="#"]',(function(t){t.preventDefault()})),$("#AddImageButton").click((function(){$("#attached_images").click()})),$(document).on("click",".upvote-button",(function(t){$(this).hasClass("is-upvoted")?$(this).find("i").removeClass("fas").addClass("far"):$(this).find("i").removeClass("far").addClass("fas"),$(this).toggleClass("is-upvoted")})),$(document).on("click",".comment-button",(function(t){$(this).parent().parent().find("#comment_input").focus()})),$(document).on("click",".edit-post-option",(function(t){var n=$(this).parent().parent().parent().parent().parent().find(".post-body").text().trim();$("#EditPost").find("#post_edit_content").val(n),$("#EditPost").modal("show")})),$(document).on("click","#EditPost .btn-submit",(function(t){t.preventDefault(),$("#EditPost").modal("hide")})),$("#attached_images").change((function(){!function(t){if(t.files&&t.files[0]){var n=new FileReader;if(["image/png","image/jpeg","image/gif","image/webp"].indexOf(t.files[0].type)<0)return void alert("The file must be an image file (jpeg/png/gif/webp).");n.onload=function(t){$(".single-image .the-image").css({"background-image":"url(".concat(t.target.result,")")})},n.readAsDataURL(t.files[0]),$(".attached-images").addClass("has-images")}}(this)})),$("#CancelUploadButton").on("click",(function(){$(".attached-images").removeClass("has-images"),$(".single-image .the-image").css({"background-image":"none"}),$("#attached_images").val("")})),$(document).on("click",".post-images .single-image",(function(t){var n;n=$(this).find("img").attr("src"),$("#ImageDisplayModal").find(".image-container > img").attr("src",n),$("#ImageDisplayModal").modal("show")})),void 0!==window.posts&&window.posts.length>0&&window.posts.forEach((function(t){var n='\n\t<div class="single-post">\n\t\t<div class="post-title bordered-bottom">\n\t\t\t<div class="display-image">\n\t\t\t\t<a href="#" popover-profileInfo="{\'room_id\':\'room~100\',\'name\':\''.concat(t.user_name,"', 'image':'").concat(t.user_image,"', 'color' : '000'}\">\n\t\t\t\t\t<img src=\"images/man_avatar1.jpg\" alt=\"DP\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=\"name-and-time\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<a href=\"#\" popover-profileInfo=\"{'room_id':'room~100','name':'").concat(t.user_name,"', 'image':'").concat(t.user_image,"', 'color' : '000'}\">").concat(t.user_name,'</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="time">\n\t\t\t\t\t<a href="#">').concat(t.post_time,'</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="post-options">\n\t\t\t\t<div class="dropleft">\n\t\t\t\t\t<button class="btn dropdown" type="button" id="postOptionsMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t<i class="fas fa-ellipsis-h"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="dropdown-menu" aria-labelledby="postOptionsMenu">\n\t\t\t\t\t\t<a class="dropdown-item edit-post-option" href="#">Edit</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="post-body">\n\t\t\t').concat(t.post_content,'\n\t\t</div>\n\t\t<div class="post-images">\n\t\t\t').concat(t.post_images.length>0?'\n\t\t\t\t<div class="single-image">\n\t\t\t\t\t<img src="'.concat(t.post_images[0].image_url,'" alt="Post Image" />\n\t\t\t\t\t<div class="overlay"></div>\n\t\t\t\t</div>\n\t\t\t'):"",'\n\t\t</div>\n\t\t<div class="post-options bordered-bottom bordered-top">\n\t\t\t<a href="#" class="btn btn-default btn-option upvote-button ').concat(t.post_is_upvoted?"is-upvoted":"",'">\n\t\t\t\t<i class="').concat(t.post_is_upvoted?"fas":"far",' fa-arrow-alt-circle-up"></i> \x3c!-- or: fas --\x3e\n\t\t\t\tUpvote\n\t\t\t</a>\n\t\t\t<a href="#" class="btn btn-default btn-option comment-button">\n\t\t\t\t<i class="far fa-comment-alt"></i>\n\t\t\t\tComment\n\t\t\t</a>\n\t\t</div>\n\t\t<div class="post-meta bordered-bottom">\n\t\t\t<div class="upvotes-meta">\n\t\t\t\t<a href="#" data-toggle="tooltip" data-placement="top" data-html="true" title="').concat(t.post_liked_by.length>0?t.post_liked_by.join("<br />"):"",'">\n\t\t\t\t\t<i class="fas fa-arrow-alt-circle-up"></i>\n\t\t\t\t\t').concat(t.post_liked_by.length>0?t.post_liked_by.join(", "):"",'\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="comments-meta">\n\t\t\t\t<a href="#" data-toggle="tooltip" data-placement="top" data-html="true" title="').concat(t.post_comments.length>0?t.post_comments.map((function(t){return t.user_name})).join("<br />"):"",'">\n\t\t\t\t\t').concat(t.post_comments.length>0?t.post_comments.length+" comments":"",'\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="all-comments">');if(t.post_comments.length>3)var o=t.post_comments.slice(0,3);else o=t.post_comments;o.forEach((function(t){n+='\n\t\t\t<div class="single-comment">\n\t\t\t\t<div class="comment-user-image">\n\t\t\t\t\t<a href="#">\n\t\t\t\t\t\t<img src="'.concat(t.user_image,'" alt="User Image">\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="name-and-comment">\n\t\t\t\t\t<div class="name">\n\t\t\t\t\t\t<a href="#">').concat(t.user_name,"</a> - <small>").concat(t.comment_time,'</small>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="comment">\n\t\t\t\t\t\t').concat(t.comment_content,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t")})),t.post_comments.length>3&&(n+='<a href="#" class="more-comments"><div>More Comments...</div></a>'),n+='</div>\n\t\t<div class="comment-box">\n\t\t\t<div class="user-display-image">\n\t\t\t\t<img src="images/man_avatar1.jpg" alt="User Display Picture">\n\t\t\t</div>\n\t\t\t<div class="comment-input">\n\t\t\t\t<textarea class="form-control" name="comment_input" id="comment_input" cols="1" rows="1" placeholder="Write a comment"></textarea>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\t\t',$(".the-posts").append(n)})),window.shouldHidePopup=!0,window.shouldShowPopup=!0,$(document).on("mouseenter","[popover-profileInfo]",(function(t){$this=$(this),window.shouldShowPopup=!0,setTimeout((function(){if(window.shouldShowPopup){$pid=$this.attr("popover-profileInfo");var t,n="object"==o(t=$pid)?t:(t=t.replace(/\'/gi,'"'),JSON.parse(t)),e=$("#profile-tooltip");e.find(".header .name").text(n.name),e.find(".actions .send-message").attr("data-room",$pid),n.self?(e.find(".actions button").each((function(){$(this).hide()})),e.find(".actions .myProfile").show()):(e.find(".actions button").each((function(){$(this).show()})),e.find(".actions .myProfile").hide());var i=e.find(".header .yes-image"),a=e.find(".header .no-image");"null"!=n.image?(i.removeClass("display-none"),a.addClass("display-none"),i.attr("src",n.image)):(i.addClass("display-none"),a.removeClass("display-none"),a.text(n.name.slice(0,1)),null!=n.color&&null!=n.color&&a.css("background","#"+n.color)),$tooltip=$("#profile-tooltip"),Popper.createPopper($this[0],$tooltip[0],{placement:"bottom-start"}),$tooltip.show()}}),100)})),$(document).on("mouseleave","[popover-profileInfo]",(function(n){window.shouldShowPopup=!1,setTimeout((function(){t()}),100)})),$(document).on("mouseenter","#profile-tooltip",(function(t){window.shouldHidePopup=!1})),$(document).on("mouseleave","#profile-tooltip",(function(n){window.shouldHidePopup=!0,t()}))}))},function(t,n){}]);
//# sourceMappingURL=posts.js.map