!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=0)}({0:function(t,e,a){a(1),t.exports=a(10)},1:function(t,e){function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t),this.tabs=[],this.active=0,this.wrapNames=!1,this.key=void 0!==i.key?i.key:"room_id",this.onActivateTab=void 0!==i.onActivateTab?i.onActivateTab:function(){},this.sendMessageInputSelector=void 0!==i.sendMessageInputSelector?i.sendMessageInputSelector:"#SendMessageInput",this.$MessageInput=document.querySelector(this.sendMessageInputSelector),null!==this.$MessageInput&&this.$MessageInput.addEventListener("input",(function(t){n.syncInputWithData(t,n)})),this.addTab(e)}var e,i,s;return e=t,(i=[{key:"getTabs",value:function(){return this.tabs}},{key:"addTab",value:function(t){var e=this;console.log("Adding Tab : ",t);var a=!1,n=-1,i=0;this.tabs.forEach((function(s){console.log(s[e.key]===t[e.key]),s[e.key]===t[e.key]&&(a=!0,n=i),i++})),a?this.active!==n&&this.activateTab(n):(void 0===t.input&&(t.input=""),this.tabs.push(t),this.active=this.tabs.length-1,this.$MessageInput.value=t.input,this.tabs.length>5&&(this.wrapNames=!0),this.toggleTabbedView(),this.generateTabCode(),void 0!==this.onActivateTab&&this.onActivateTab(t))}},{key:"closeTab",value:function(t){console.log("Closing Tab : ",t),0!==t?(this.tabs.splice(t,1),this.tabs.length<=5&&(this.wrapNames=!1),this.active==t?0!=this.active?this.activateTab(this.active-1):this.activateTab(0):t<this.active?this.activateTab(this.active-1,!1):(this.toggleTabbedView(),this.generateTabCode())):console.log("Can't close main tab")}},{key:"activateTab",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("Activating Tab : ",t),this.active!==t&&(this.active=t,console.log("Setting Input To: "+this.tabs[this.active].input),this.$MessageInput.value=this.tabs[this.active].input,this.toggleTabbedView(),this.generateTabCode(),e&&this.onActivateTab(this.tabs[t]))}},{key:"toggleTabbedView",value:function(){this.tabs.length>1?(document.querySelector(".person-header").classList.add("display-none"),document.querySelector(".person-header-tabbed").classList.remove("display-none")):(this.active=0,document.querySelector(".person-header").classList.remove("display-none"),document.querySelector(".person-header-tabbed").classList.add("display-none"))}},{key:"syncInputWithData",value:function(t,e){e.tabs[e.active].input=t.target.value}},{key:"clearCurrentTabInput",value:function(){this.$MessageInput.value="",this.tabs[this.active].input=""}},{key:"generateTabCode",value:function(){var t=this;if(this.tabs.length<2){var e='\t<div class="name content">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-bars" id="DetailsOpenerBars" style="margin-right:5px;"></i>'.concat(this.tabs[0].name,'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="product-image sidebar">\n\t\t\t\t\t\t\t\t\t').concat("null"!=this.tabs[0].image?'<img src="'.concat(this.tabs[0].image,'" alt="Profile Picture">'):"<div class='no-image' ".concat(null!=this.tabs[0].color&&null!=this.tabs[0].color?'style="background:#'+this.tabs[0].color+'"':"",">").concat(this.tabs[0].name.slice(0,1),"</div>"),"\n\t\t\t\t\t\t\t\t</div>");'<div class="tab flex-custom">'.concat(e,"</div>"),document.querySelector(".person-header").innerHTML=e,document.querySelector(".person-header-tabbed").innerHTML=e}else{var a="",n=0;this.tabs.forEach((function(e){a+='<div class="tab flex-custom '.concat(n==t.active?"active":"",'" data-index="').concat(n,'">\n\t\t\t\t\t\t\t\t\t\t<div class="product-image sidebar">\n\t\t\t\t\t\t\t\t\t\t\t').concat("null"!=e.image?'<img src="'.concat(e.image,'" alt="Profile Picture">'):"<div class='no-image' ".concat(null!=e.color&&null!=e.color?'style="background:#'+e.color+'"':"",">").concat(e.name.slice(0,1),"</div>"),"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t").concat(0===n?'<i class="fa fa-bars" id="DetailsOpenerBars" style="margin-right:5px;"></i>':"",'\n\t\t\t\t\t\t\t\t\t\t<div class="name content">\n\t\t\t\t\t\t\t\t\t\t\t').concat(t.wrapNames?e.name.indexOf(" ")>0&&e.name.indexOf(" ")<10?e.name.slice(0,e.name.indexOf(" ")):e.name.slice(0,6):e.name,"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t").concat(0!==n?'<div class="closer sidebar">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn close-button" data-close=\''.concat(n,'\'><i class="fa fa-times"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>'):"","\n\t\t\t\t\t\t\t\t\t</div>"),n++})),document.querySelector(".person-header-tabbed").innerHTML=a}}}])&&n(e.prototype,i),s&&n(e,s),t}();window.MessageTabs=i},10:function(t,e){}});
//# sourceMappingURL=tabs.js.map