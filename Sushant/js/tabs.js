!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({0:function(t,e,n){n(1),t.exports=n(10)},1:function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.tabs=[],this.active=0,this.wrapNames=!1,this.key=void 0!==i.key?i.key:"room_id",this.onActivateTab=void 0!==i.onActivateTab?i.onActivateTab:function(){},this.onScrolledToTop=void 0!==i.onScrolledToTop?i.onScrolledToTop:function(){},this.sendMessageInputSelector=void 0!==i.sendMessageInputSelector?i.sendMessageInputSelector:"#SendMessageInput",this.$MessageInput=document.querySelector(this.sendMessageInputSelector),null!==this.$MessageInput&&this.$MessageInput.addEventListener("input",(function(t){a.syncInputWithData(t,a)})),this.addTab(e),__this__=this,$(document).ready((function(){"large"===window.deviceSize?$("#MessagesContainer").getNiceScroll(0).scrollend((function(t){t.current.y<=50&&__this__.onScrolledToTop(__this__.getCurrentTab())})):$("#MessagesContainer").scroll((function(t){0===$("#MessagesContainer").scrollTop()&&__this__.onScrolledToTop(__this__.getCurrentTab())}))}))}var e,i,s;return e=t,(i=[{key:"getTabs",value:function(){return this.tabs}},{key:"addTab",value:function(t){var e=this;console.log("Adding Tab : ",t);var n=!1,a=-1,i=0;this.tabs.forEach((function(s){console.log(s[e.key]===t[e.key]),s[e.key]===t[e.key]&&(n=!0,a=i),i++})),n?this.active!==a&&this.activateTab(a):(void 0===t.input&&(t.input=""),this.tabs.push(t),this.active=this.tabs.length-1,this.$MessageInput.value=t.input,this.tabs.length>5&&(this.wrapNames=!0),this.toggleTabbedView(),this.generateTabCode(),void 0!==this.onActivateTab&&this.onActivateTab(t))}},{key:"closeTab",value:function(t){console.log("Closing Tab : ",t),0!==t?(this.tabs.splice(t,1),this.tabs.length<=5&&(this.wrapNames=!1),this.active==t?0!=this.active?this.activateTab(this.active-1):this.activateTab(0):t<this.active?this.activateTab(this.active-1,!1):(this.toggleTabbedView(),this.generateTabCode())):console.log("Can't close main tab")}},{key:"activateTab",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("Activating Tab : ",t),this.active!==t&&(this.active=t,console.log("Setting Input To: "+this.tabs[this.active].input),this.$MessageInput.value=this.tabs[this.active].input,this.toggleTabbedView(),this.generateTabCode(),e&&this.onActivateTab(this.tabs[t]))}},{key:"toggleTabbedView",value:function(){this.tabs.length>1?(document.querySelector(".person-header").classList.add("display-none"),document.querySelector(".person-header-tabbed").classList.remove("display-none")):(this.active=0,document.querySelector(".person-header").classList.remove("display-none"),document.querySelector(".person-header-tabbed").classList.add("display-none"))}},{key:"syncInputWithData",value:function(t,e){e.tabs[e.active].input=t.target.value}},{key:"clearCurrentTabInput",value:function(){this.$MessageInput.value="",this.tabs[this.active].input=""}},{key:"generateTabCode",value:function(){var t=this;if(this.tabs.length<2){var e='\t<div class="name content">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-bars" id="DetailsOpenerBars" style="margin-right:5px;"></i>'.concat(this.tabs[0].name,'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="product-image sidebar">\n\t\t\t\t\t\t\t\t\t').concat("null"!=this.tabs[0].image?'<img src="'.concat(this.tabs[0].image,'" alt="Profile Picture">'):"<div class='no-image' ".concat(null!=this.tabs[0].color&&null!=this.tabs[0].color?'style="background:#'+this.tabs[0].color+'"':"",">").concat(this.tabs[0].name.slice(0,1),"</div>"),"\n\t\t\t\t\t\t\t\t</div>");'<div class="tab flex-custom">'.concat(e,"</div>"),document.querySelector(".person-header").innerHTML=e,document.querySelector(".person-header-tabbed").innerHTML=e}else{var n="",a=0;this.tabs.forEach((function(e){n+='<div class="tab flex-custom '.concat(a==t.active?"active":"",'" data-index="').concat(a,'">\n\t\t\t\t\t\t\t\t\t\t<div class="product-image sidebar">\n\t\t\t\t\t\t\t\t\t\t\t').concat("null"!=e.image?'<img src="'.concat(e.image,'" alt="Profile Picture">'):"<div class='no-image' ".concat(null!=e.color&&null!=e.color?'style="background:#'+e.color+'"':"",">").concat(e.name.slice(0,1),"</div>"),"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t").concat(0===a?'<i class="fa fa-bars" id="DetailsOpenerBars" style="margin-right:5px;"></i>':"",'\n\t\t\t\t\t\t\t\t\t\t<div class="name content">\n\t\t\t\t\t\t\t\t\t\t\t').concat(t.wrapNames?e.name.indexOf(" ")>0&&e.name.indexOf(" ")<10?e.name.slice(0,e.name.indexOf(" ")):e.name.slice(0,6):e.name,"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t").concat(0!==a?'<div class="closer sidebar">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn close-button" data-close=\''.concat(a,'\'><i class="fa fa-times"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>'):"","\n\t\t\t\t\t\t\t\t\t</div>"),a++})),document.querySelector(".person-header-tabbed").innerHTML=n}}},{key:"scrollToBottom",value:function(){"small"===window.deviceSize?$("#MessagesContainer").animate({scrollTop:$("#MessagesContainer").height()},200):$("#MessagesContainer").getNiceScroll(0).doScrollTop($("#MessagesContainer").height())}},{key:"getCurrentTab",value:function(){return this.tabs[this.active]}},{key:"onScrolledToTop",value:function(t){"function"==typeof t&&(this.onScrolledToTop=t)}}])&&a(e.prototype,i),s&&a(e,s),t}();window.MessageTabs=i},10:function(t,e){}});
//# sourceMappingURL=tabs.js.map