<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <title>SpeakSpike API and Documentation | ASM Asaduzzaman</title>

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>SpeakSpike Coding Documentation and Convention</h1>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">Login Page</a></li>
                            <li><a href="#line2">Messenger Page</a></li>
                            <li><a href="#line3">Tabbed Messeging</a></li>
                            <li><a href="#line4">Profile Page</a></li>
                            <li><a href="#line5">Integrating Notifications</a></li>
                            <li><a href="#line6">Switching Name/Icon on Header</a></li>
                            <li><a href="#line7">Showing Login/Signup links on header</a></li>
                            <li><a href="#line8">New methods in Tabs Section</a></li>
                            <li><a href="#line9">Updates on ProfileDetails and Messenger Page</a></li>
                            <li><a href="#line10">Badges, Reply, Reply Text Update Notes</a></li>
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                    <section id="line1" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Login Page <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <h4>Bootstrap Alert Boxes Will Work on the Login Page</h4>

                                <p>For example, a "red" alert can be created using:- </p>

                                <pre class="brush: html; highlight: [2,4]">
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                Email not found on server.
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div></pre>

                                <p>Or a success box using:- </p>

                                <pre class="brush: html">
                                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                                        <strong>Hi There!</strong> This is a Success Message
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                         </pre>

                                <h4>Examples are already provided with the Login Page.</h4>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Messenger Page <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="intro2 clearfix">
                            <p><i class="fa fa-info"></i> I have made extensive use of JavaScript to generate the dummy texts on the web page. Please make sure to replace them with actual HTML or server rendered HTML. </p>
                        </div>

                        <hr>

                        <h4>Search Results</h4>

                        <p>A single search result should contain the following contents:-</p>
                        <pre class="brush: html">
                        <div class="btn-icon-shower" click-profileInfo="{'room_id':'room~10','name':'Sushant Tripathy', 'image':'null', 'color' : '00BCD4'}">
                            <div class="single flex-custom">
                              <div class="sidebar nopic">
                                <div class="status online"></div>
                                <p style="background-color:#00BCD4">S</p>
                              </div>
                            <div class="content">
                              <p class="name">Sushant Tripathy</p>
                              <p class="designation">Designation</p>
                            </div>
                            <div class="sidebar options">
                              <div class="dropdown">
                                <button class="btn btn-icon" type="button" id="chatroomOptions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <i class="fa fa-sm fa-ellipsis-h"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="chatroomOptions">
                                  <a class="dropdown-item" href="#"><i class="fa fa-envelope"></i> Send Message</a>
                                  <a class="dropdown-item" href="#"><i class="fa fa-ban"></i> Mute</a>
                                </div>
                              </div>
                            </div>
                            </div>
                        </div>
                        </pre>

                        <h4>About "click-profileInfo" attribute</h4>
                        <p>This attribute should contain a JSON value. The information given in that JSON is used by Tabbed Messeging Module to generate the Tab.</p>
                        <b>More about Tabbed Messeging Module on it's respective section</b>

                    </section>
                    <!-- end section -->

                    <section id="line3" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Tabbed Messeging <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>Tabbed Messeging Module is Tightly Coupled with the Messeging Page</h4>

                        <p>The module is not written by keeping portability in mind. The module will only work with this particular messeging page. This module allows you to add/close and move betwen tabs in messeging page. Modifying this module will be enough to build a full-fledged messeging application</p>

                        <h3>Creating the instance</h3>
                        <p>You can create an instance of MessageTabs module by passing the First Tab object and some configuration options.</p>

                        <pre class="brush: js">
                            new MessageTabs({
                                'name' : 'Kolkata - 123015',
                                'image': 'images/man_avatar1.jpg',
                                'room_id' : 1
                            });
                        </pre>

                        <p>The first argument of the constructor is an object containing at least "name", "image", and "room_id" attributes.</p>

                        <h3>Why these attributes?</h3>
                        <p>Look at this image</p>
                        <img src="a-tab.png" alt="A Tab Page">
                        <p>A tab requires the Name of the user, Image of the user and Room ID (which is hidden) for operation.</p>

                        <p>If the person doesn't have a profile picture, you can use this pattern for the object:-</p>
                        <pre class="brush: js">
                            new MessageTabs({
                                'name' : 'Kolkata - 123015',
                                'image': 'null',
                                'room_id' : 1,
                                'color' : '000000' // Hex Color Code
                            });
                        </pre>
						
						<h3>Want to include a default message text with this conversation</h3>
						<p>The input property will be the initial value of the send message input:-</p>
                        <pre class="brush: js">
                            new MessageTabs({
                                'name' : 'Kolkata - 123015',
                                'image': 'null',
                                'room_id' : 1,
                                'input' : 'Send a message to Kolkata'
                            });
                        </pre>
						
						<h3>Send Message Input</h3>
						<p>By default, the tabs module takes "#SendMessageInput" as the message input and listens to "input" event on this input. But the input can be changed with some configuration settings</p>
                        <pre class="brush: js">
                            new MessageTabs({
                                'name' : 'Kolkata - 123015',
                                'image': 'null',
                                'room_id' : 1
                            }, {
                                sendMessageInputSelector: '#SomeOtherInput'
							});
                        </pre>
						
						<h3>Unsent Messages and After sending messages</h3>
						<p>Every unsent message will be kept inside their associated tabs. Every time a tab is opened, the input will contain unsent text from that tab. In order to clear the text from the tab and clear the input, please use this line when a message is sent:- </p>
                        <pre class="brush: js">
                            // Clicking the send message button, submit the message
							$(document).on('click', "#SendMessageButton", function(e){
								// Send the message through websocket/json
								// axios.post(URL, MessageData).then(()={});

								// Now clear the input and cached message
								$tabs.clearCurrentTabInput(); // <--- This line is very important to clear text of current input
							});
                        </pre>
						
						

                        <h4>Configuration Settings</h4>
                        <p>You can also pass configuration options, for example, <b>the name of the KEY attribute</b> and <b>Callback function when a tab is activated.</b></p>

                        <pre class="brush:js">
                            window.$tabs = new MessageTabs({
                                'name' : 'Kolkata - 123015',
                                'image': 'images/man_avatar1.jpg',
                                'chatroom_id' : 1
                            }, {
                                key: 'chatroom_id'
                                onActivateTab: function(tab){
                                    // console.log('Callback: ' + tab.room_id);
                                    $('#MessagesContainer').find('.to_me').each(function(index, element){
                                            $(element).find('.name a').text(tab.name);
                                    });
                                }
                            });
                        </pre>

                        <p>Notice:-</p>
                        <ul>
                            <li>1. <b>room_id</b> is the default key for our applicatin. So every tab object should contain a unique <b>room_id</b>. But you can change the name of the attribute to <b>chatroom_id</b> by using the <b>key</b> configuration option.</li>
                            <li>2. <b>onActivatedTab</b> is a callback function which can specify what to do when the user switches to a tab.<br>The function receives the tab object {'name':'Some Name', 'room_id': 'unique_id', 'image':'image_url'}. This callback function is intended to load the actual messages for this particular room on the viewport.</li>
                            <li>3. The <b>onActivatedTab</b> callback function used here replaces the Sender Name of the current room with the newly activated room. You are at liberty to write your own callback function here.</li>
                        </ul>

                        <h3>Opening a new tab</h3>
                        <p>Simply call <b>addTab</b> method of the Tabs object in order to create a new tab.</p>

                        <pre class="brush:js">
                            $tabs.addTab({
                                'name' : 'Sushant Tripathy',
                                'image': 'images/sushant_tripathy.jpg',
                                'room_id' : 1541541
                            });
                        </pre>


                        <h3>Closing a tab</h3>
                        <p>Closing a tab is straightforward. Since the <b>tabs</b> attribute of the MessageTabs object is an array. We need to specify which index of the array to be closed.</p>

                        <pre class="brush:js">
                            $tabs.closeTab(index);
                        </pre>

                        <p>In order to use the cross button on each tab, the following code has been used:-</p>
                        <pre class="brush:js">
                            $(document).on('click', '.close-button', function(e){
                                e.preventDefault();
                                let $index = $(this).data('close');
                        
                                $tabs.closeTab($index);
                            });
                        </pre>
                        


                    </section>
                    <!-- end section -->
                    <section id="line4" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Profile page <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>The Profile Page has image and other profile details.</h4>

                        <p>New image can be uploaded by clicking the edit icon on the top-right corner of the image. Once the image is selected, it is uploaded automatically to the <b>form action</b> using jQuery AJAX POST request. Response are of two types.</p>

                        <b>A valid upload response will should like the following:-</b>
                        <pre class="brush: js">
                            {
                                "success" : "true",
                                "thumbnail_path" : "images/chat-page.png",
                                "image-64x64_path" : "images/chat_page.png"
                            }
                        </pre>

                        <p>Inavlid upload should look like:-</p>

                        <pre class="brush: js">
                            {
                                "success" : "false",
                                "message" : "The image is not acceptable."
                            }
                        </pre>

                        

                        <p>Note:-</p>
                        <ul>
                            <li>1. A valid upload will change the profile picture automatically.</li>
                            <li>2. An invalid upload will show an alert with the error message from JSON response..</li>
                        </ul>

                        <h4>Mock Test</h4>
                        <p>There are two JSON files <b>upload-valid.json</b> and <b>upload-invalid.json</b> which can be used to test the response actions without using a server. The form in this page looks like this:-</p>

                        <pre class="brush:html">
                            <form action="upload-valid.json" id="fileForm" method="POST" enctype="multipart/form-data">
                                <label class="myLabel edit-profile-picture">
                                    <input type="file" name="profile_picture" id='profilePicture' required/>
                                    <span><i class="fa fa-edit"></i></span>
                                </label>
                            </form>
                        </pre>

                        <p>Since we can't make POST request without an actual server. Change the method to "GET" and browse the page. Then click on the edit image button and choose a random picture. You should see the image changing. You can also mock test invalid file upload by changing 'action' to "upload-invalid.json" and repeating the tasks.</p>

                        


                    </section>
                    <!-- end section -->
					<section id="line5" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Integrating Notification Header Icon On Existing Pages <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>All the necessary stylesheets for the header notification box is integrated with the style.css file. So, we don't have to include it externally.</h4>

                        <p>Only two snippets of codes are required to be injected on the existing pages to display notifications.</p>

                        <b>The notifications HTML codes:-</b>
                        <pre class="brush: html">
                            <div class="notifications-container">
								<button class="btn icon-btn" id="notificationsOpener">
								  <i class="fa fa-sm fa-bell"></i>
								</button>
								<div class="counter">
								  2
								</div>
								<div class="notifications">
								  <div class="titles">
									  <h6>Notifications</h6>
								  </div>
								  <div class="list">
									<a href="#">
									  <div class="single-notification unread">
										<div class="sidebar nopic">
										  <p style='background-color:#ccc'>A</p>
										</div>
										<div class="content">
										  <div class="body">
											<strong>Andrew Gustavo</strong> has sent you a new message.
										  </div>
										  <div class="time">
											10 minutes ago
										  </div>
										</div>
									  </div>
									</a>
									<a href="#">
									  <div class="single-notification unread">
										<div class="sidebar propic">
										  <img src="images/man_avatar1.jpg" alt="Profile Picture">
										</div>
										<div class="content">
										  <div class="body">
											<strong>Andrew Gustavo</strong> added you as contacts.
										  </div>
										  <div class="actions">
											<button class="btn btn-contacts green"><i class="fa fa-check"></i></button>
											<button class="btn btn-contacts red"><i class="fa fa-times"></i></button>
										  </div>
										  <div class="time">
											10 minutes ago
										  </div>
										</div>
									  </div>
									</a>
									<a href="#">
									  <div class="single-notification">
										<div class="sidebar nopic">
										  <p style='background-color:#ccc'>N</p>
										</div>
										<div class="content">
										  <div class="body">
											You might be interested in chatroom <strong>"NY - 15425"</strong>
										  </div>
										  <div class="time">
											3 hours ago
										  </div>
										</div>
									  </div>
									</a>
								  </div>
								</div>
							  </div>
                        </pre>

                        <p>The snippet given above should be inserted between these lines:-</p>

                        <pre class="brush: html">
                        <button class="btn icon-btn" id="searchIcon">
								<i class="fa fa-sm fa-search"></i>
							</button>
							--- HERE ---
							<div class="dropdown">
                        </pre>
						
						
						<p>And we need to insert the following js file at the end of the page:-</p>

                        <pre class="brush: html">
                        <script src="js/notifications.js"></script>
                        </pre>
						
						<p>Please have a look at the updated HTML files to see how the notifications icon and box has been integrated. Or please ask me directly if you need further clarification.</p>

                        


                        


                    </section>
                    <!-- end section -->

                    <section id="line6" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Integrating Name/Profile Picture On Existing Pages <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->


                        <p>Only one code snippet is required to be injected on the existing pages to display name/image of the user on the upper-right corner of the header.</p>

                        <b>The HTML code:-</b>
                        <pre class="brush: html">
                            <div class="user-propic-mobile"> <!-- Only for mobile display -->
                              <!-- <img src="images/man_avatar1.jpg" /> --> <!-- Use this line when a profile image exists -->
                              <div class="nopic"> <!-- Or, use this div if there is no profile picture --> 
                                A
                              </div>
                            </div>
                        </pre>

                        <p>The snippet given above should be inserted between these lines:-</p>

                        <pre class="brush: html">
                          <div class="user-info ml-2 flex-div">
                            --- Here ---
                            <div class="name">Asaduzzaman</div>
                          </div>
                        </pre>
                        
                        
                        <p>Please have a look at the updated HTML files for usage examples.</p>
                    </section>

                    <section id="line7" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Showing Login/Signup links for unauthenticated users <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->


                        <p>You'll have to add this CSS snippet on the page after <b>&lt;link rel="stylesheet" href="css/style.css"&gt;&lt;/p&gt;</b>

                        The HTML code:-
                        <pre class="brush: html">
                            <style type="text/css">
                              .navbar a.nav-link {
                                color:white;
                              }
                              .navbar a.nav-link:hover {
                                text-decoration:underline;
                              }
                            </style>
                        </pre>

                        <p>The following codes need to be replaced:-</p>

                        <pre class="brush: html">
                          <div class="notifications-container user-authenticated-options">
                            <button class="btn icon-btn" id="notificationsOpener">
                              <i class="fa fa-sm fa-bell"></i>
                            </button>
                            <div class="counter">
                              2
                            </div>
                            <div class="notifications">
                              <div class="titles">
                                  <h6>Notifications</h6>
                              </div>
                              <div class="list">
                                <a href="#">
                                  <div class="single-notification unread">
                                    <div class="sidebar nopic">
                                      <p style='background-color:#ccc'>A</p>
                                    </div>
                                    <div class="content">
                                      <div class="body">
                                        <strong>Andrew Gustavo</strong> has sent you a new message.
                                      </div>
                                      <div class="time">
                                        10 minutes ago
                                      </div>
                                    </div>
                                  </div>
                                </a>
                                <a href="#">
                                  <div class="single-notification unread">
                                    <div class="sidebar propic">
                                      <img src="images/man_avatar1.jpg" alt="Profile Picture">
                                    </div>
                                    <div class="content">
                                      <div class="body">
                                        <strong>Andrew Gustavo</strong> added you as contacts.
                                      </div>
                                      <div class="actions">
                                        <button class="btn btn-contacts green"><i class="fa fa-check"></i></button>
                                        <button class="btn btn-contacts red"><i class="fa fa-times"></i></button>
                                      </div>
                                      <div class="time">
                                        10 minutes ago
                                      </div>
                                    </div>
                                  </div>
                                </a>
                                <a href="#">
                                  <div class="single-notification">
                                    <div class="sidebar nopic">
                                      <p style='background-color:#ccc'>N</p>
                                    </div>
                                    <div class="content">
                                      <div class="body">
                                        You might be interested in chatroom <strong>"NY - 15425"</strong>
                                      </div>
                                      <div class="time">
                                        3 hours ago
                                      </div>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>
                          </div>
                          <div class="dropdown user-authenticated-options">
                            <!-- <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              Dropdown button
                            </button> -->
                            <button class="btn dropdown-toggle icon-btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <i class="fa fa-sm fa-cog"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                              <a class="dropdown-item" href="#">Action</a>
                              <a class="dropdown-item" href="#">Another action</a>
                              <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                          </div>
                          <div class="user-info ml-2 flex-div user-authenticated-options">
                            <div class="user-propic-mobile"> <!-- Only for mobile display -->
                              <!-- <img src="images/man_avatar1.jpg" /> -->
                              <div class="nopic">
                                A
                              </div>
                            </div>
                            <div class="name">Asaduzzaman</div> <!-- Only for desktop display -->
                          </div>
                        </pre>
                        
                        
                        <p>By this snippet:-</p>
                        <pre class="brush: html">
                          <nav class="navbar navbar-expand-lg">
                            <div class="collapse navbar-collapse" id="navbarNav">
                              <ul class="navbar-nav">
                                <li class="nav-item">
                                  <a class="nav-link" href="#">Login</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="#">Sign Up</a>
                                </li>
                              </ul>
                            </div>
                          </nav>
                        </pre>
                    </section>
                    <section id="line8" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">New Methods in Tabs Sectiohn <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->


                        <p>I've added few methods in the Messenger page inside Tabs class as per your specification. The methods can be called from any instance (usually a single instance $tabs) </p>

                        <h3>scrollToBottom()</h3>
                        <p><b>Arguments:</b> void</p>
                        <p><b>Returns:</b> void </p>
                        <p><b>Description: </b> In the chat page, scrolls the window to the very bottom of the chat section.</p>

                        Example:-
                        <pre class="brush: javascript">
                          var $tabs = new MessageTabs({
                            'name' : 'Mumbai - 230532',
                            'image': 'images/man_avatar1.jpg',
                            'room_id' : 1
                          });

                          // Now scroll to bottom
                          $tabs.scrollToBottom();
                        </pre>


                        <h3>addScrolledToTopListener(func)</h3>
                        <p><b>Arguments:</b> func:function - the callback function </p>
                        <p><b>Returns:</b> void </p>
                        <p><b>Description: </b> A callback function setter that can be used to fetch messages when user scrolls to the top of the messages section. The callback receives "tab" as only argument which includes the tab information.</p>

                        Example:-
                        <pre class="brush: javascript">
                          $tabs.addScrolledToTopListener(function(tab){
                            // tab is the JSON tab object which is used to create the tab, for example tab = {'name' : 'Mumbai - 230532','image': 'images/man_avatar1.jpg','room_id' : 1}
                            // TODO: retreive previous messages from the server using AJAX
                          });

                          // An example usage is given in dist/js/script.js on line: 57-63
                        </pre>


                        <h3>clearInputByTabID(selector)</h3>
                        <p><b>Arguments:</b> selector:int|string  </p>
                        <p><b>Returns:</b> void </p>
                        <p><b>Description: </b> Clears the input field of the given Tab. The tab can be selected in two ways. Whether by using the index of the tab as Integer, or the "room_id" field of the JSON tab object.</p>

                        Example:-
                        <pre class="brush: javascript">
                          // Let's add a tab first
                          $tabs.addTab({
                            'name' : 'Dhaka - 1203',
                            'image': 'images/dhaka_1203_chatroom.jpg',
                            'room_id' : 'dhaka_1203_chatroom'
                          });
                          // If there are already two existing tabs in the page, the index of the new tab will be 2
                          // Now, if we type something in the input field of this tab, we can clear the input by the following line
                          $tabs.clearInputByTabID(2);
                          
                          // We can use the room_id property of the new Tab object too to invoke the function
                          $tabs.clearInputByTabID("dhaka_1203_chatroom");
                        </pre>


                        <h3>disableTabInputByTabId(room_id) || enableTabInputByTabId(room_id) </h3>
                        <p><b>Arguments:</b> room_id:string  </p>
                        <p><b>Returns:</b> void </p>
                        <p><b>Description: </b> Disables/Enables the input field of the given tab. We can only use "room_id" of the tab object in order to identify the tabs as the index for a tab is a variable. Index changes by many factors for a given tab, for example, when a previous tab is closed, the index for every following tabs will drop by one unit.</p>

                        Example:-
                        <pre class="brush: javascript">
                          // Suppose we have 3 tabs
                          console.log($tabs.tabs);
                          // 0: {name: "Mumbai - 230532", image: "images/man_avatar1.jpg", room_id: 1, input: ""}
                          // 1: {name: "Tab 0", image: "images/man_avatar1.jpg", room_id: "test-tab-0", input: ""}
                          // 2: {name: "Tab 1", image: "images/man_avatar1.jpg", room_id: "test-tab-1", input: ""}

                          // Now, in order to disable the input for Tab 2 (room_id: "test-tab-1")
                          $tabs.disableTabInputByTabId("test-tab-1");


                          // Once this line is executed, the input for the given tab will be disabled. 
                          // But I believe you will mostly use it on Ajax calls when a message is going through the network. 
                          // In that case, the usage will be as follows:-
                          function sendMessage(room_id, message_text){
                            $tabs.disableTabInputByTabId(room_id);
                            $.ajax({
                              method: 'post',
                              ...
                              success: function(response){
                                // do anything with the message
                                $tabs.enableTabInputByTabId(room_id); // enable the input back
                              }
                            });
                          }

                          // Now you can invoke the function
                          sendMessage("test-tab-1", "A random message");
                        </pre>


                        <h3>Class: MessengerOverlay()</h3>
                        <p><b>Methods:</b> hide(), show()  </p>
                        <p><b>Description: </b> Hides or shows an overlay loading icon for the Messenger Page</p>

                        Example:-
                        <pre class="brush: javascript">
                          // The HTML code for the overlay is available written on: dist/Messenger.html on lines: 519-524
                          // The JavaScript codes are written on: dist/js/script.js on lines: 13-22

                          // The only thing you will take care of is hiding the overlay once the page is loaded.
                          // The dist/js/script.js - lines 27-28 :- 
                          var overlay = new MessengerOverlay();
                          overlay.hide();

                          // Since we are calling this inside $(document).ready() function, the overlay becomes hidden after the document is ready, i.e. when the page is fully loaded.
                          // You can show/hide the overlay using:-
                          overlay.show();
                          sleep(1000);
                          overlay.hide();
                        </pre>




                        <h3>showLoadingIcon() || hideLoadingIcon() </h3>
                        <p><b>Arguments:</b> void  </p>
                        <p><b>Returns:</b> void </p>
                        <p><b>Description: </b> Shows/Hides the Loading icon on top of messages body. It will usually be invoked with addScrolledToTopListener() inside the callback to show the loading icon when previous messages are being pulled from the server.</p>

                        Example:-
                        <pre class="brush: javascript">
                          // The lines 57-63 of file: dist/js/script.js shows a perfect example of both these functions with addScrolledToTopListener function. 
                          // I think it will help you writing your codes for your particular use case.

                          $tabs.addScrolledToTopListener(function(tab){
                            $tabs.showLoadingIcon(); // here we are showing the loading icon
                            setTimeout(function(){ // setTimeout is used to simulate ajax pull request of previous messages
                              $tabs.hideLoadingIcon(); // once messages are ready, hide the icon, and then prepend the messages
                              $('#MessagesContainer').prepend("<center>"+ tab.room_id + " onScrollTop event occured" +"</center>");
                            }, 500);
                          });
                        </pre>



                    </section>
                    <section id="line9" class="section">

                      <div class="row">
                          <div class="col-md-12 left-align">
                              <h2 class="dark-text">Updates on ProfileDetails and Messenger Page <a href="#top">#back to top</a><hr></h2>
                          </div>
                          <!-- end col -->
                      </div>
                      <!-- end row -->

                      <h4>ProfileDetails page.</h4>
                      <ol>
                        <li>The larger name field has been made modifiable</li>
                        <li>The Button has been renamed to "Reset Password", but make sure to remove the Change Password Modal from the html document as well. The modal looks like the following:- </li>
                      </ol>

                      <pre class="brush: html">
                          <!-- Change Password Modal -->
                          <div class="modal fade" id="changePassword" ....>
                            ....
                          </div>
                      </pre>

                      <h4>Messenger page.</h4>
                      <p>The pop-up/pop-over for hovering over the user's own entry can be generated by using the following signature for "from_me" messages</p>

                      <pre class="brush: html">
                        <div class="single-message flex-custom from_me">
                          <div class="name-and-message">
                            <div class="name">
                              <a popover-profileInfo="{'room_id':'room~100','name':'ASM Asaduzzaman', 'image':'null', 'color' : '000', 'self':true}" href="#">ASM Asaduzzaman</a> - <span>20 min</span>
                            </div>
                            <div class="main-message">
                              Another Message
                            </div>
                          </div>
                          <div class="sidebar">
                            <img src="images/man_avatar1.jpg" alt="Profile Picture">
                          </div>
                        </div>
                      </pre>

                      <p>The key change here is, you have to add the <b>"popover-profileInfo"</b> attribute to the <b>"a"</b> tag. And the JSON inside the attribute should have a property <b>'self':true</b></p>

                      <p>We'll also need to add the "My Profile" link to the popup box. It can be found in <b>Messenger.html</b> file on line <b>505</b>. Please update this by using appropriate my profile URL. </p>

                      <pre class="brush: html">
                        <a href="ProfileDetails.html" class="btn btn-success myProfile">My Profile</a>
                      </pre>

                      <p>In Summary, 2 files has been modified in order to make this change. These are:-</p>
                      <ol>
                        <li>Messenger.html - lines: 459, 505 </li>
                        <li>script.js - lines: [191-201] </li>
                      </ol>


                      <br><br>
                      <h3>For new message notification count in the Members panel</h3>
                      <p>Some new code snippet has been added inside the <b>".single-conversation"</b> div.</p>

                      <pre class="brush :html">
                        <div class="content">
                          <p class="name">${PersonName}</p>
                          <p class="designation">Designation</p>
                        </div>
                        <!-- New Snippet : Line 315 of Messenger.html-->
                        <div class="new_message_count hasCount">
                          <div class="count_icon">4</div>  
                        </div>
                        <!-- End New Snippet -->
                        <div class="sidebar options">
                          <div class="dropdown">
                          ... 
                          </div>
                        </div>
                      </pre>

                      <p><b>Usage: </b> If the hasCount class is available, it will be shown. Otherwise it will be hidden for that particular member. So, you should add/remove the hasCount class as well as inserting the count (4 in this example) when pulling for new messages.</p>

                      <p>We should keep the <b>.new_message_count</b> class with every <b>.single-conversation</b>. So, when a new message is received and you want to show the count notification for a member, you'll have to make 2 DOM updates.  </p>
                      <ol>
                        <li>Add "hasCount" class to the "new_message_count" div under that member</li>
                        <li>Add the count number inside "count_icon" div of that div.</li>
                      </ol>


                      <br><br>
                      <h3>For new message notification count in the Tabs</h3>
                      <p>Two methods has been added in Tabs class to facilitate this function.</p>

                      <pre class="brush :javascript">
                        // To add notification count in a particular tab
                        $tabs.setCountNotification(0,3); // Sets the first tab count to 3 and shows it
                        $tabs.setCountNotification("test-tab-0",3); // Sets the first tab with room_id "test-tab-0" to 3 and shows it

                        // To remove notification count in a particular tab
                        $tabs.setCountNotification("test-tab-0",0); // Setting count to 0 will hide it
                        $tabs.removeCountNotification("test-tab-0"); // You can also use removeCountNotification method. 
                      </pre>

                      <p><b>Usage: </b> Both the methods <b>setCountNotification</b> and <b>removeCountNotification</b> receives tab index or "room_id" of a tab as the first argument. The second argument for <b>setCountNotification</b> indicates the count. </p>

                      <p><b>Some Defaults:</b></p>
                      <ol>
                        <li>Whenever a tab with count is clicked/opened, the count is removed automatically. Please let me know if you don't need this default behavior and want to handle it yourself.</li>
                      </ol>



                  </section>
                    <section id="line10" class="section">

                      <div class="row">
                          <div class="col-md-12 left-align">
                              <h2 class="dark-text">Badges, Reply, Reply Text Update Notes <a href="#top">#back to top</a><hr></h2>
                          </div>
                          <!-- end col -->
                      </div>
                      <!-- end row -->

                      <h3>Badges</h3>
                      <p>Since we use Bootstrap as the CSS Framework for our application. We can use bootstrap to show badges on anywhere we want.</p>
                      <p>For example, On line 312 of <b>Messenger.html, we can add a badge like this:-</b> </p>
                      <pre class="brush: html">
                        <div class="content">
                          <p class="name">${PersonName} <span class="badge badge-primary">Me</span> </p>
                          <p class="designation">Designation</p>
                        </div>
                      </pre>

                      <p><b>&lt;span class="badge badge-primary"&gt;Me&lt;/span&gt;</b> is the code we used for that badge</p>
                      <p>The section will now look like this:-</p>
                      <div class="text-center"><img src="badge-example.png" alt="Badge-Example" /></div>
                      <h4>Badge Variations</h4>
                      <p>Bootstrap already comes with many color variations of badges by default.</p>
                      <div class="text-center"><img src="badge-variations.png" alt="Badge Variations"></div>
                      <p>The codes for these variations are as follows:-</p>
                      <pre class="brush: html">
                        <span class="badge badge-primary">Primary</span>
                        <span class="badge badge-secondary">Secondary</span>
                        <span class="badge badge-success">Success</span>
                        <span class="badge badge-danger">Danger</span>
                        <span class="badge badge-warning">Warning</span>
                        <span class="badge badge-info">Info</span>
                        <span class="badge badge-light">Light</span>
                        <span class="badge badge-dark">Dark</span>
                      </pre>

                      <p>More information about badges can be found here: <a href="https://getbootstrap.com/docs/4.1/components/badge/">Bootstrap Badges</a></p>

                      <p>Apart from Bootstrap default colors, I've added 3 new classes for 3 different colors for the background.</p>
                      <div class="text-center"><img src="more-badge-colors.png" alt="More Colors for Badges   "></div>
                      <p>These colors can be used with the following codes:-</p>
                      <pre class="brush: html">
                        <span class="badge badge-primary bg-greenish">Greenish</span>
                        <span class="badge badge-primary bg-bluish">Bluish</span>
                        <span class="badge badge-primary bg-yellowish">Yellowish</span>
                      </pre>

                      <h4>Icon badges</h4>
                      <p>Since we use Fontawesome-5 for our icons in the web application. We can use all the <a href="https://fontawesome.com/icons">icons available in Fontawesome-5</a> according to usage guide.</p>
                      <p>For example, we can show the medal icon with name as follows:-</p>
                      <pre class="brush: html">
                        <div class="content">
                          <p class="name">
                            Firstname Lastname
                            <span class="badge badge-primary bg-greenish">me</span>
                            <span class="badge color-yellowish" title="Text to show on hover"><i class="fas fa-medal"></i></span>
                          </p>
                          <p class="designation">Designation</p>
                        </div>
                      </pre>
                      <p><b>&lt;i class="fas fa-medal"&gt;&lt;/i&gt;</b> is the code we used to show the Icon inside span. All Fontawesome usage applies here too.</p>
                      <div class="text-center">
                        <img src="badge-icon.png" alt="Icon in badge">
                      </div>

                      <h3>Reply Function</h3>
                      <p>Many changes has been made to the HTML, CSS and JavaScript parts to implement the reply feature. The changes are:-</p>
                      
                      <h5>HTML Changes</h5>
                      <ol>
                        <li>Line: 391 of <b>Messenger.html</b> and many other places.
                          <pre class="brush: html">
                            <div class="message-options">
                              <a class="reply-button" href="#">Reply</a>
                            </div>
                          </pre>
                          This div shows the reply option in the Messenger Page
                        </li>
                        <li>Line: 617-618 of <b>Messenger.html</b>
                          <pre class="brush: html">
                            <script type="text/javascript">$(document).bind("mobileinit", function(){$.extend(  $.mobile , {autoInitializePage: false})});</script>
                            <script src="jquery/jquery.mobile.min.js"></script>
                          </pre>
                          These scripts load the jQuery Mobile to satisfy "Swipe-Right" action on mobile devices.
                        </li>
                        <li>
                          Line: 543-558 of <b>Messenger.html</b>
                          <pre class="brush: html">
                            <div class="replying-to">
                              <div class="sidebar">
                                <img src="images/man_avatar1.jpg" alt="Profile Picture">
                              </div>
                              <div class="name-and-message">
                                <div class="name">
                                  <a >Sushant Tripathy</a>
                                </div>
                                <div class="main-message">
                                  Thank you so much.
                                </div>
                                <div class="close-reply-box">
                                  <i class="fa fa-times"></i>
                                </div>
                              </div>
                            </div>
                          </pre>
                          This code actually shows the message that is being replied to when user replies to a message. This is the box which is visible on top of the message input when "Reply" button is clicked on desktop and "Swipe Right" event is occured on Mobile.
                          <div class="text-center">
                            <img src="reply-box.png" style="width:300px;" alt="">
                          </div>
                        </li>
                      </ol>
                      <h5>JavaScript Changes</h5>
                      <ol>
                        <li>
                          A script is added that listens to the Click event of "Reply" button on Desktop Devices. (Line: 366 of <b>script.js</b>)
                          <pre class="brush: js">
                            $(document).on('click', '.reply-button', function(e){
                              e.preventDefault();
                              var ProfilePicture = $(this).parent().parent().parent().find('.sidebar').find('img').attr('src');
                              var Name = $(this).parent().parent().find('.name').find('a').text();
                              var Message = $(this).parent().parent().find('.main-message').text();
                          
                              $('.replying-to').find('.sidebar').find('img').attr('src', ProfilePicture);
                              $('.replying-to').find('.name').text(Name);
                              $('.replying-to').find('.main-message').text(Message);
                          
                              $('.replying-to').css('display','flex');
                            });
                          </pre>
                          As we can read, this snippet does the following:-
                          <ol type="i">
                            <li>Takes name, profile picture and the main message text of the message that we are about to reply and put that in the box of reply.</li>
                            <li>Then set <b>.replying-to</b> display to flex, making it visible.</li>
                          </ol>
                        </li>
                        <li>Similar action happens when user swipes right on any message in Mobile device. ( Line: 389 of <b>script.js</b> )
                          <pre class="brush: js">
                            if( window.deviceSize === "small" ) { // Add swipe-right listener only for mobile devices
                              $(document).on("swiperight",".single-message",function(e){
                                var ProfilePicture = $(this).find('.sidebar').find('img').attr('src');
                                var Name = $(this).find('.name').find('a').text();
                                var Message = $(this).find('.main-message').text();
                          
                                $('.replying-to').find('.sidebar').find('img').attr('src', ProfilePicture);
                                $('.replying-to').find('.name').text(Name);
                                $('.replying-to').find('.main-message').text(Message);
                          
                                $('.replying-to').css('display','flex');
                              });
                            }
                          </pre>
                        </li>
                        <li>
                          We also have a "cancel reply" icon in the top-right corner of reply box. Clicking/Touching this should clear the reply mode of message. An example usage is given on line 379 of <b>script.js</b>.
                          <pre class="brush:js">
                            $(document).on('click', '.close-reply-box', function(e){
                              e.preventDefault();
                          
                              $('.replying-to').find('.sidebar').find('img').attr('src', "");
                              $('.replying-to').find('.name').text("");
                              $('.replying-to').find('.main-message').text("");
                          
                              $('.replying-to').css('display','none');
                            });
                          </pre>
                          You should include neccessary codes for switiching to/from reply mode on the message input.
                        </li>
                      </ol>

                      <h5>Displaying Replies with Messages</h5>
                      <p>Previously, the messages have been shown as the following code:- </p>
                      <pre class="brush:html">
                        <div class="name-and-message">
                          <div class="name">
                            <a popover-profileInfo="..." href="#">ASM Asaduzzaman</a>
                          </div>
                          <div class="main-message">
                            Another Message
                          </div>
                          <div class="message-options">
                            <a class="reply-button" href="#">Reply</a>
                          </div>
                        </div>
                      </pre>
                      <p>If a message is a reply to another message, you can add the main message with the reply by modifying the message as bellow:-</p>
                      <pre class="brush:html">
                        <div class="name-and-message">
                          <div class="name">
                            <a popover-profileInfo="..." href="#">ASM Asaduzzaman</a>
                          </div>
                          <div class="reply-for-message">
                            <div class="reply-image-and-name">
                              <img src="images/man_avatar1.jpg" alt="Profile Picture">
                              <div class="reply-name">
                                <a >Sushant Tripathy</a>
                              </div>
                            </div>
                            <div class="reply-main-message">
                              This is the message which has been replied to.
                            </div>
                          </div>
                          <div class="main-message">
                            This is the reply message.
                          </div>
                          <div class="message-options">
                            <a class="reply-button" href="#">Reply</a>
                          </div>
                        </div>
                      </pre>
                      <p>As we can see, the div <b>.reply-for-message</b> should be inserted after <b>.name</b> and before <b>.main-message</b> to result in the best look. </p>

                      Example:-
                      <div class="text-center">
                        <img src="reply-show.png" alt="">
                        <br>
                        Caption: With image and name of the main message sender.
                      </div>
                      <div class="text-center">
                        <img src="reply-show-nopic.png" alt="">
                        <br>
                        Caption: Only main message text (removed <b>.reply-image-and-name</b> div )
                      </div>


                  </section>
                    <!-- end section -->
                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

</body>

</html>
